<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> | Study Abroad!</title>
  <link rel="icon" href="../../uploads/graduation-hat.svg">
  <!-- Bootstrap 4 -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
    crossorigin="anonymous">
  <!-- CSS -->
  <link rel="stylesheet" href="/stylesheets/main.css">
  <!-- Font Awesome 5 -->
  <script
    src="https://kit.fontawesome.com/3b24b1e065.js" 
    crossorigin="anonymous">
  </script>
  <!-- mapbox -->
  <script
    src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'
  >
  </script>
  <link
    href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css'
    rel='stylesheet'
  />
</head>
<body>
  <nav class="navbar fixed-top navbar-expand-lg navbar-light">
    <div class="container">
      <a class="navbar-brand" href="/">
        Study Abroad!
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item <%= typeof title !== 'undefined' && title === 'Schools' ? 'active' : '' %>">
            <a class="nav-link" href="/schools">
              <i class="fas fa-school"></i> Schools
            </a>
          </li>
          <li class="nav-item <%= typeof title !== 'undefined' && title === 'Ranking' ? 'active' : '' %>">
            <a class="nav-link" href="/ranking">
              <i class="fas fa-crown"></i> Ranking
            </a>
          </li>
        </ul>
        <ul class="navbar-nav">
          <% if(!currentUser) { %>
          <!-- delete later -->
          <!-- <li class="nav-item">
            <form action="/login" method="POST">
              <input type="hidden" name="email" value="admin@admin.com">
              <input type="hidden" name="password" value="password">
              <button type="submit" class="btn btn-primary btn-block">
                Admin Login
              </button> 
            </form>
          </li> -->
          <li class="nav-item <%= typeof title !== 'undefined' && title === 'Login' ? 'active' : '' %>">
            <a class="nav-link" href="/login">
              <i class="fas fa-sign-in-alt"></i> Login
            </a>
          </li>
          <li class="nav-item <%= typeof title !== 'undefined' && title === 'Signup' ? 'active' : '' %>">
            <a class="nav-link" href="/signup">
              <i class="fas fa-user-plus"></i> Signup
            </a>
          </li>
          <% } else { %>
          <li class="nav-item <%= typeof title !== 'undefined' && title === 'My Page' ? 'active' : '' %>">
            <a class="nav-link" href="/users/<%= currentUser.slug %>">
              <i class="fas fa-user"></i> My Page (<%= currentUser.name %>)
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout">
              <i class="fas fa-sign-out-alt"></i> Logout
            </a>
          </li>
          <% } %>
        </ul>
      </div>
    </div>
  </nav>

  <% if (success && success.length > 0) { %>
  <div class="alert alert-success" role="alert">
    <div class="container">
      <%= success %>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
  <% } %>
  <% if (error && error.length > 0) { %>
  <div class="alert alert-danger" role="alert">
    <div class="container">
      <%= error %>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
  <% } %>